# Animation Flow & Timeline

## ğŸ¬ Auto-Play Journey Timeline

```
START (0s)
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stop 1: Báº¿n NhÃ  Rá»“ng (1911)                    â”‚
â”‚ â”œâ”€ Zoom to Vietnam                              â”‚
â”‚ â”œâ”€ Show Young Ho Chi Minh                       â”‚
â”‚ â”œâ”€ Show Boat with smoke                         â”‚
â”‚ â””â”€ Duration: 3s                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“ (2s transition)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stop 2-7: Asia â†’ Europe â†’ America              â”‚
â”‚ â”œâ”€ Character age: "young"                       â”‚
â”‚ â”œâ”€ Zoom to each location                        â”‚
â”‚ â”œâ”€ Show info card                               â”‚
â”‚ â””â”€ Duration: 3s each                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stop 8-16: Europe â†’ Asia                       â”‚
â”‚ â”œâ”€ Character age: "middle" (vá»›i rÃ¢u)           â”‚
â”‚ â”œâ”€ Zoom transitions                             â”‚
â”‚ â””â”€ Duration: 3s each                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stop 17-20: Return to Vietnam                  â”‚
â”‚ â”œâ”€ Character age: "old" (rÃ¢u báº¡c)              â”‚
â”‚ â”œâ”€ Final stops in China                         â”‚
â”‚ â””â”€ Duration: 3s each                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‰ VICTORY SEQUENCE (Stop 20)                   â”‚
â”‚                                                  â”‚
â”‚ 1. Soldiers appear (stagger 0.2s)               â”‚
â”‚    â””â”€ from bottom, opacity 0â†’1                  â”‚
â”‚                                                  â”‚
â”‚ 2. Flag raises (1s)                             â”‚
â”‚    â””â”€ scale 0â†’1, elastic bounce                 â”‚
â”‚                                                  â”‚
â”‚ 3. Soldiers celebrate (loop)                    â”‚
â”‚    â””â”€ rotation Â±15Â°, yoyo                       â”‚
â”‚                                                  â”‚
â”‚ 4. Old Ho Chi Minh watches                      â”‚
â”‚    â””â”€ standing proudly with white beard         â”‚
â”‚                                                  â”‚
â”‚ Total duration: ~5s + infinite loop             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
END (60s total)
```

## ğŸ“ Journey Stops Map

```
                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘   HÃ€NH TRÃŒNH 30 NÄ‚M           â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸŒ CHÃ‚U Ã‚U                    ğŸŒ CHÃ‚U Ã
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 6. Marseilleâ”‚              â”‚ 14. Quáº£ng ChÃ¢uâ”‚
    â”‚ 7. London   â”‚              â”‚ 16. Hong Kong â”‚
    â”‚ 10. Paris   â”‚              â”‚ 17. Shanghai  â”‚
    â”‚ 11. Versaillesâ”‚            â”‚ 18. Moskva    â”‚
    â”‚ 12. Tours   â”‚              â”‚ 19. DiÃªn An   â”‚
    â”‚ 13. Moskva  â”‚              â”‚               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘                            â†‘
           â”‚                            â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â†“
    ğŸŒ CHÃ‚U Má»¸                    ğŸŒ ÄÃ”NG NAM Ã
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 8. New York â”‚              â”‚ 1. SÃ i GÃ²n   â”‚ğŸš¢
    â”‚ 9. Boston   â”‚              â”‚ 2. Singapore â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ 3. Colombo   â”‚
                                 â”‚ 15. Nakhon P â”‚
                                 â”‚ 20. PÃ¡c BÃ³   â”‚ğŸ
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ğŸŒ CHÃ‚U PHI
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4. Djibouti â”‚
    â”‚ 5. Port Saidâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Legend:
    ğŸš¢ = Start (with boat)
    ğŸ = End (victory)
    â”â” = Sea route
    â”€â”€â”€ = Land route
```

## ğŸ¨ Character States

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AGE: YOUNG (1911-1917)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     ğŸ‘¤                          â”‚
â”‚                    /|\\                         â”‚
â”‚                     |                           â”‚
â”‚                    / \\                         â”‚
â”‚                                                 â”‚
â”‚ Features:                                       â”‚
â”‚ - No beard                                      â”‚
â”‚ - Dark hair                                     â”‚
â”‚ - Traditional Ã¡o dÃ i                            â”‚
â”‚ - Energetic posture                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AGE: MIDDLE (1917-1930)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     ğŸ‘¤                          â”‚
â”‚                   ğŸ§”/|\\                        â”‚
â”‚                     |                           â”‚
â”‚                    / \\                         â”‚
â”‚                                                 â”‚
â”‚ Features:                                       â”‚
â”‚ - Black beard                                   â”‚
â”‚ - Dark hair                                     â”‚
â”‚ - Western suit                                  â”‚
â”‚ - Determined stance                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AGE: OLD (1933-1941)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     ğŸ‘´                          â”‚
â”‚                   ğŸ§”/|\\                        â”‚
â”‚                     |                           â”‚
â”‚                    / \\                         â”‚
â”‚                                                 â”‚
â”‚ Features:                                       â”‚
â”‚ - WHITE/GRAY beard                              â”‚
â”‚ - White hair                                    â”‚
â”‚ - Traditional Ã¡o dÃ i                            â”‚
â”‚ - Wise posture                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš™ï¸ Technical Animation Details

### D3 Zoom Configuration

```typescript
const zoom = d3
  .zoom()
  .scaleExtent([1, 8]) // Min/max zoom levels
  .on("zoom", zoomed); // Apply transform
```

### GSAP Timeline Structure

```typescript
timeline
  â”œâ”€ Stop 1 (0s-3s)
  â”‚  â”œâ”€ zoomToStop(stop1, 2000ms)
  â”‚  â”œâ”€ setCharacterAge('young')
  â”‚  â””â”€ setSelectedStop(stop1)
  â”‚
  â”œâ”€ Stop 2 (5s-8s)
  â”‚  â””â”€ ...
  â”‚
  â”œâ”€ ...
  â”‚
  â””â”€ Victory (58s-63s)
     â”œâ”€ Soldiers in (0.5s, stagger)
     â”œâ”€ Flag up (1s, bounce)
     â””â”€ Celebrate (loop)
```

### Character Animation Keyframes

```css
@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes sway {
  0%,
  100% {
    transform: rotate(-2deg);
  }
  50% {
    transform: rotate(2deg);
  }
}

@keyframes celebrate {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  25% {
    transform: translateY(-5px) scale(1.05);
  }
  75% {
    transform: translateY(-3px) scale(0.95);
  }
}
```

## ğŸ¯ User Interactions

```
User Actions          â†’  System Response
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Click "Xem hÃ nh trÃ¬nh" â†’ Start auto-play timeline
                         Disable button
                         Begin zoom sequence

Click marker          â†’ Zoom to location
                         Show info card
                         Pause auto-play (if active)

Click country         â†’ Highlight country
                         Show country name

Click background      â†’ Reset zoom to world view
                         Close info cards

Scroll down          â†’ Progress through timeline
                         Reveal markers sequentially

Hover marker         â†’ Enlarge marker
                         Show tooltip

Mouse wheel          â†’ Manual zoom in/out
                         Pan available
```

## ğŸ”„ State Management

```
Component State:
â”œâ”€ currentStopIndex    (0-19)
â”œâ”€ isAutoPlaying       (boolean)
â”œâ”€ characterAge        ('young' | 'middle' | 'old')
â”œâ”€ selectedStop        (JourneyStop | null)
â”œâ”€ currentPhase        (0-3)
â””â”€ zoomRef            (D3 ZoomBehavior)

Effects:
â”œâ”€ Map initialization  (on mount)
â”œâ”€ Auto-play control   (on button click)
â”œâ”€ Character updates   (on stop change)
â””â”€ Cleanup            (on unmount)
```

## ğŸ“Š Performance Metrics

```
Target Performance:
â”œâ”€ Initial load      < 2s
â”œâ”€ Zoom transition   2s
â”œâ”€ Stop interval     3s
â”œâ”€ FPS              60fps
â””â”€ Memory usage     < 150MB

Optimization:
â”œâ”€ SVG path caching
â”œâ”€ GSAP hardware acceleration
â”œâ”€ Debounced zoom events
â”œâ”€ Lazy character rendering
â””â”€ Efficient D3 selections
```

---

**Ready for Production** âœ…
